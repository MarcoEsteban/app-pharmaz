// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}


// ===========
// Tabla Menus
// ===========
model Menus {
  id          String         @id @default(uuid())
  nombre      String
  enlace      String         @unique
  icon        String
  createdAt   DateTime       @default(now()) // Fecha de creación del registro.
  updatedAt   DateTime       @updatedAt // Fecha de la última actualización del registro.
  
  Roles       RolesOnMenus[] // Indico que estamos estableciendo la Relación de Many to Many
}

// ===========
// Tabla Roles
// ===========
model Roles {
  id          String         @id @default(uuid())
  nombre      String
  estado      Boolean        @default(true)
  createdAt   DateTime       @default(now()) // Fecha de creación del registro.
  updatedAt   DateTime       @updatedAt // Fecha de la última actualización del registro.
  
  Menus       RolesOnMenus[] // Indico que estamos estableciendo la Relación de Many to Many
}

// ==================
// Tabla RolesOnMenus
// ==================
model RolesOnMenus {
  roles       Roles @relation(fields: [rolesId], references: [id]) 
  menus       Menus @relation(fields: [menusId], references: [id])
  rolesId     String
  menusId     String

  @@id([rolesId, menusId])
}

